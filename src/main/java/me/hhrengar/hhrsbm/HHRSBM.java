package me.hhrengar.hhrsbm;

import com.google.gson.Gson;
import com.google.gson.JsonObject;
import com.google.gson.JsonParser;
import me.hhrengar.hhrsbm.event.HttpGetJSON;
import me.hhrengar.hhrsbm.event.ScoreboardGetter;
import me.hhrengar.hhrsbm.event.ChatMessageGetter;
import me.hhrengar.hhrsbm.gui.ConfigGUI;
import me.nullicorn.nedit.NBTReader;
import me.nullicorn.nedit.NBTWriter;
import me.nullicorn.nedit.exception.NBTParseException;
import me.nullicorn.nedit.type.NBTCompound;
import me.nullicorn.nedit.type.NBTList;
import net.fabricmc.api.ModInitializer;
import net.minecraft.nbt.NbtDouble;
import net.querz.nbt.io.NBTOutputStream;
import net.querz.nbt.tag.Tag;
import org.apache.http.impl.client.CloseableHttpClient;
import org.apache.http.impl.client.HttpClientBuilder;
import org.jetbrains.annotations.NotNull;
import org.slf4j.Logger;
import org.slf4j.LoggerFactory;

import java.io.*;
import java.net.URL;
import java.util.*;
import java.util.regex.Matcher;
import java.util.regex.Pattern;


public class HHRSBM implements ModInitializer {
	public static final String MOD_ID = "hhrsbm";
	public static final Logger LOGGER = LoggerFactory.getLogger(MOD_ID);

	@Override
	public void onInitialize() {
		LOGGER.info("Hello Fabric world!");
		ChatMessageGetter.registerMessageGetter();
		ScoreboardGetter.registerScoreboardGetter();
		ConfigHandler.loadConfig();
		AliasHandler.loadAliases();
		ConfigGUI.guiChecker();
		CloseableHttpClient httpClient = HttpClientBuilder.create().build();
		HttpGetJSON.getSomeoneInv_Contents("28667672039044989b0019b14a2c34d6");
		try {
			NBTList items = NBTReader.read(new ByteArrayInputStream(Base64.getDecoder().decode(
					"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"
			))).getList("i");
			LOGGER.info("Ree: " +items.getCompound(1).toString());
		} catch (IOException e) {
			throw new RuntimeException(e);
		}
	}
}
